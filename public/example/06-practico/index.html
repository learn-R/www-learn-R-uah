<!DOCTYPE html>
<html lang="en-us" 
      xmlns:og="http://ogp.me/ns#" 
      xmlns:fb="https://www.facebook.com/2008/fbml">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.2.0 for Hugo" />
  

  

  
  
  
  
  
  

  

  
  
  
    
  
  <meta name="description" content="0. Objetivo del práctico El objetivo del práctico, es avanzar en el análisis de los datos a través del uso de estadísticos descriptivos. Para esto ya debemos contar con datos previamente procesados del práctico N°4." />

  
  <link rel="alternate" hreflang="en-us" href="/example/06-practico/" />

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    <meta name="theme-color" content="#5271FF" />
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">

    
    

    
    
    
      
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans+Condensed:400,400i,700,700i%7CBarlow:ital,wght@0,400;0,700;1,400;1,700&display=swap">
      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.563f345701788434b4fee407179620aa.css" />

  



  

  

  




  
  
  

  

  
    <link rel="manifest" href="/index.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_2.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_180x180_fill_lanczos_center_2.png" />

  <link rel="canonical" href="/example/06-practico/" />

  
  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary" />
  
    <meta property="twitter:site" content="@valentiandrade" />
    <meta property="twitter:creator" content="@valentiandrade" />
  
  <meta property="og:site_name" content="Análisis Estadístico en R" />
  <meta property="og:url" content="/example/06-practico/" />
  <meta property="og:title" content="Análisis descriptivo | Análisis Estadístico en R" />
  <meta property="og:description" content="0. Objetivo del práctico El objetivo del práctico, es avanzar en el análisis de los datos a través del uso de estadísticos descriptivos. Para esto ya debemos contar con datos previamente procesados del práctico N°4." /><meta property="og:image" content="/media/logo_hu02bc8dfe7cae86b2ee03430b67caeaf2_22353_300x300_fit_lanczos_2.png" />
    <meta property="twitter:image" content="/media/logo_hu02bc8dfe7cae86b2ee03430b67caeaf2_22353_300x300_fit_lanczos_2.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2021-09-13T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2021-09-13T00:00:00&#43;00:00">
  

  



  

  

  <link rel="stylesheet" type="text/css" href="/custom-css/print.css" media="print" />

  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16" />
  <meta name="application-name" content="2255: Análisis Estadístico en R" />
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="/img/mstile-144x144.png" />


  <title>Análisis descriptivo | Análisis Estadístico en R</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  ">

  
  
  
  
  
  <script src="/js/wowchemy-init.js"></script>

    




    











  


<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container-xl">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu02bc8dfe7cae86b2ee03430b67caeaf2_22353_0x70_resize_lanczos_2.png" alt="Análisis Estadístico en R"></a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu02bc8dfe7cae86b2ee03430b67caeaf2_22353_0x70_resize_lanczos_2.png" alt="Análisis Estadístico en R"></a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Organización</span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/schedule/"><span>Planificación</span></a>
            
              <a class="dropdown-item" href="/syllabus/"><span>Syllabus</span></a>
            
          </div>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Clases</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link  active" href="/example/"><span>Prácticos</span></a>
        </li>

        
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Tareas <i class="fab fa-github"></i></span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/assignment/"><span>Tareas</span></a>
            
              <a class="dropdown-item" href="https://classroom.github.com/classrooms/86887318-learn-r-uah-2021"><span>Github Classroom<i class="fab fa-github"></i></span></a>
            
          </div>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/resource/"><span>Recursos</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="https://join.slack.com/t/learn-r-uah/shared_invite/zt-sh9uysuu-IzEG8~u5k2YYGWgpAFTRFA" target="_blank" rel="noopener"><span><i class="fab fa-slack"></i></span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="https://rstudio.cloud/" target="_blank" rel="noopener"><span><i class="fab fa-r-project"></i></span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      

      
      

      
      

      
      

    </ul>

  </div>
</nav>



    

<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
            





  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
    
  

  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/example/">Información general</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/example/">Prácticos (códigos de ejemplo)</a>
      </li>

      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" >Datos</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/example/01-practico/">Ejemplos</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/example/01-practico/">1: R, RStudio y Github</a>
      </li>

      
      <li >
        <a href="/example/02-practico/">2: RMarkdown</a>
      </li>

      
      <li >
        <a href="/example/03-practico/">3: Importar, explorar y limpiar datos</a>
      </li>

      
      <li >
        <a href="/example/03-practicodatatypes/">3: Tipos de datos</a>
      </li>

      
      <li >
        <a href="/example/04-practico/">4: Transformar y seleccionar variables</a>
      </li>

      
      <li >
        <a href="/example/05-practico/">5: Tidydata y manipulación de datos</a>
      </li>

      
      <li class="active">
        <a href="/example/06-practico/">6: Análisis descriptivo</a>
      </li>

      
      <li >
        <a href="/example/07-practico/">7: Muestras complejas y precisión de inferencia estadística</a>
      </li>

      
      <li >
        <a href="/example/08-practico/">8: Regresiones lineales, predictores categóricos y representación gráfica</a>
      </li>

      
      <li >
        <a href="/example/09-practico/">9: Regresión logística</a>
      </li>

      
      <li >
        <a href="/example/10-practico/">10: Calidad de modelos y otras técnicas de estimación</a>
      </li>

      
    </ul>
    

  </div>
  
  
</nav>

        </div>

        
        <div class="d-none d-xl-block col-xl-2 docs-toc">
            <ul class="nav toc-top">
                <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
            </ul>

            <nav id="TableOfContents">
  <ul>
    <li><a href="#recursos-del-práctico">Recursos del práctico</a></li>
  </ul>

  <ul>
    <li><a href="#41-medidas-de-tendencia-central">4.1. Medidas de tendencia central</a>
      <ul>
        <li><a href="#media">Media</a></li>
        <li><a href="#media-recortada">Media recortada</a></li>
        <li><a href="#mediana">Mediana</a></li>
      </ul>
    </li>
    <li><a href="#un-resumen">Un resumen</a></li>
    <li><a href="#43-frecuencias">4.3. Frecuencias</a>
      <ul>
        <li><a href="#frecuencias-absolutas">Frecuencias absolutas</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
        </div>
        

        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

            <article class="article">

                <div class="docs-article-container">
                    <h1>Análisis descriptivo</h1>

                    

                    

                    

                    <div class="article-style">
                        <h1 id="0-objetivo-del-práctico">0. Objetivo del práctico</h1>
<p>El objetivo del práctico, es avanzar en el análisis de los datos a través del uso de <strong>estadísticos descriptivos</strong>. Para esto ya debemos contar con datos previamente <a href="https://learn-r-uah.netlify.app/example/04-practico/" target="_blank" rel="noopener">procesados del práctico N°4</a>. Previo a eso, <strong>siempre es importante</strong> que recordemos en qué parte del proceso estamos</p>
<p><img src="https://github.com/learn-R/slides/raw/main/img/01/flow-rproject.png" alt=""></p>
<p>En este práctico veremos tanto la <em>estimación puntual</em> de estadísticos descriptivos, como su <em>visualización</em> para reportes, ya sea a través de tablas o de gráficos.</p>
<h2 id="recursos-del-práctico">Recursos del práctico</h2>
<p>En este práctico utilizamos los <strong>datos</strong> procesados <em>CASEN 2020</em>, que proviene de los datos originales de <a href="http://observatorio.ministeriodesarrollosocial.gob.cl/encuesta-casen-en-pandemia-2020" target="_blank" rel="noopener"><strong>Encuesta de Caracterización Socioeconómica (CASEN)</strong></a>.Recuerden <em><strong>siempre</strong></em> consultar el <a href="http://observatorio.ministeriodesarrollosocial.gob.cl/storage/docs/casen/2020/Libro_de_codigos_Base_de_Datos_Casen_en_Pandemia_2020.pdf" target="_blank" rel="noopener"><strong>libro códigos</strong></a> antes de trabajar datos.</p>
<p>Recuerden que los archivos asociados a este práctico se pueden descargar aquí:</p>
<ul>
<li><a href="https://github.com/learn-R/06-class/raw/main/06-clase.zip" target="_blank" rel="noopener"><i class="fas fa-file-archive"></i> <code>06-class.zip</code></a></li>
</ul>
<h1 id="1-paquetes-a-utilizar">1. Paquetes a utilizar</h1>
<p>Para este práctico utilizaremos principalmente, las librerías <code>sjmisc</code> y <code>sjPlot</code>.</p>
<p><code>sjmisc</code>: esta paquete tiene múltiples funciones, desde la transformación de datos y variables. Este paquete suele complementar a  <code>dplyr</code> de <code>tidyverse</code> en sus funciones.</p>
<p><code>sjPlot</code>: su principal función es la visualización de datos para estadística en ciencias sociales mediante tablas y gráficos.</p>
<p>Cargaremos los paquetes con <code>pacman</code>, si aún tienes dudas sobre cómo trabajar con <code>pacman</code> puedes <a href="https://learn-r-uah.netlify.app/example/02-practico/#paso-1-instalaci%C3%B3n-de-paquetes" target="_blank" rel="noopener">revisar el práctico 2</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">pacman<span style="color:#f92672">::</span><span style="color:#a6e22e">p_load</span>(sjmisc,
               sjPlot,
               tidyverse,
               magrittr)
</code></pre></div><h1 id="2-importar-datos">2. Importar datos</h1>
<p>Una vez cargado los paquetes a utilizar, debemos pasar al segundo paso: cargar los datos. Como indicamos al inicio, seguiremos utilizando los datos <strong>CASEN</strong> que fue procesada en el práctico anterior, pero le añadimos una variable.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">load</span>(<span style="color:#e6db74">&#34;output/data/datos_proc.RData&#34;</span>)
</code></pre></div><h1 id="3-explorar-datos">3. Explorar datos</h1>
<p>Pero ¿cómo sabremos cuales son las nuevas variables que componen la base de datos procesada?, ¡Simple! usaremos dos códigos que vimos en el <a href="https://learn-r-uah.netlify.app/example/04-practico/#2-cargar-base-de-datos" target="_blank" rel="noopener">práctico 4</a> para conocer los <strong>datos procesados</strong> que usaremos en esta ocasión:</p>
<p>Primero, usaremos el código <code>names</code>, nos entrega los nombres de las variables que componen los datos</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">names</span>(datos_proc)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">##  [1] &#34;sexo&#34;              &#34;edad_tramo&#34;        &#34;ocupacion&#34;        
##  [4] &#34;o2&#34;                &#34;o3&#34;                &#34;o4&#34;               
##  [7] &#34;o6&#34;                &#34;ingreso_percapita&#34; &#34;ife&#34;              
## [10] &#34;horas_mens&#34;
</code></pre></div><p>Mientras que la función <code>head</code> nos entrega el nombre y las primeras 10 filas que lo componen.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">head</span>(datos_proc)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## # A tibble: 6 x 10
##         sexo edad_tramo ocupacion        o2        o3        o4      o6 ingreso_percapi~
##    &lt;dbl+lbl&gt; &lt;chr&gt;      &lt;fct&gt;     &lt;dbl+lbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt; &lt;dbl+l&gt;            &lt;dbl&gt;
## 1 2 [Mujer]  Joven      No           1 [Sí]   NA        NA      NA               195416.
## 2 1 [Hombre] Adulto     Sí          NA        NA        NA      NA               315861 
## 3 2 [Mujer]  Joven      No           1 [Sí]   NA        NA      NA               315861 
## 4 1 [Hombre] Adulto     Sí          NA        NA        NA      NA              1001389 
## 5 1 [Hombre] Joven      No           2 [No]    2 [No]    2 [No]  2 [No]         1001389 
## 6 2 [Mujer]  Adulto     No           2 [No]    2 [No]    1 [Sí]  2 [No]         1001389 
## # ... with 2 more variables: ife &lt;dbl+lbl&gt;, horas_mens &lt;dbl&gt;
</code></pre></div><p>Gracias a estos códigos sabemos que tenemos una aproximación de las variables que vamos a utilizar. Por el práctico anterior sabemos que podemos explorar nuestros datos con <code>sjPlot::view_df()</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">sjPlot<span style="color:#f92672">::</span><span style="color:#a6e22e">view_df</span>(datos_proc,
                encoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UTF-8&#34;</span>)
</code></pre></div><table style="border-collapse:collapse; border:none;">
<caption>Data frame: datos_proc</caption>
<tr>
<th style="border-bottom:double; font-style:italic; font-weight:normal; padding:0.2cm; text-align:left; vertical-align:top;">ID</th><th style="border-bottom:double; font-style:italic; font-weight:normal; padding:0.2cm; text-align:left; vertical-align:top;">Name</th><th style="border-bottom:double; font-style:italic; font-weight:normal; padding:0.2cm; text-align:left; vertical-align:top;">Label</th><th style="border-bottom:double; font-style:italic; font-weight:normal; padding:0.2cm; text-align:left; vertical-align:top;">Values</th><th style="border-bottom:double; font-style:italic; font-weight:normal; padding:0.2cm; text-align:left; vertical-align:top;">Value Labels</th>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">1</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">sexo</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">Sexo</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">1<br>2</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">Hombre<br>Mujer</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">2</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">edad_tramo</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee"></td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee"></td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">&lt;output omitted&gt;</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">3</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">ocupacion</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">o1. La semana pasada, Â¿trabajÃ³ al menos una hora?</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;"></td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">SÃ­<br>No</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">4</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">o2</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">o2. Aunque no trabajÃ³ la semana pasada, Â¿realizÃ³<br>alguna actividad?</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">1<br>2</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">SÃ­<br>No</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">5</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">o3</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">o3. Aunque no trabajÃ³, Â¿tenÃ­a algÃºn empleo del<br>cual estuvo ausente temporalmente</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">1<br>2</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">SÃ­<br>No</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">6</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">o4</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">o4. Â¿Ha trabajado alguna vez?</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">1<br>2</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">SÃ­<br>No</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">7</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">o6</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">o6. Â¿BuscÃ³ trabajo remunerado o cuenta propia en<br>las Ãºltimas cuatro semanas?</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">1<br>2</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">SÃ­<br>No</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">8</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">ingreso_percapita</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">Ingreso total del hogar</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee" colspan="2"><em>range: 0.0-225200000.0</em></td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">9</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">ife</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">y26d_hog. Ãšltimos 12 meses, Â¿alguien recibiÃ³<br>Ingreso Familiar de Emergencia?</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">1<br>2<br>9</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top;">SÃ­<br>No<br>No sabe</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">10</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">horas_mens</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee">y2_hrs. NÃºmero de horas mensuales pactadas con<br>empleador</td>
<td style="padding:0.2cm; text-align:left; vertical-align:top; background-color:#eeeeee" colspan="2"><em>range: 1-720</em></td>
</tr>
</table>
<h1 id="4-descripción-de-variables">4. Descripción de variables</h1>
<p>Una vez conocidas las variables que incluye nuestros datos procesados, ¿cómo podemos realizar un análisis descriptivo para algún informe o reporte? Veamos algunas de las más comunes</p>
<h2 id="41-medidas-de-tendencia-central">4.1. Medidas de tendencia central</h2>
<p>Para conocer las medidas de tendencia central de las variables hay dos opciones. En la <strong>primera</strong> se puede pedir el estadístico manualmente, en la <strong>segunda</strong> se puede pedir una tabla resumen.</p>
<h3 id="media">Media</h3>
<p>Para conocer la media de una variable se utiliza la función <code>mean()</code>, su estructura es:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">mean</span>(datos<span style="color:#f92672">$</span>variable, na.rm<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</code></pre></div><p>El argumento <code>na.rm=TRUE</code> excluye del cálculo a los casos perdidos. Esto aplicado a nuestra variable <code>ingreso_percapita</code> se ve así:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">mean</span>(datos_proc<span style="color:#f92672">$</span>ingreso_percapita, na.rm<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## [1] 355472.1
</code></pre></div><h3 id="media-recortada">Media recortada</h3>
<p>Pero, ¿qué pasa si la variable <code>ingreso_percapita</code> esta influenciada por casos influyentes? Para eso puedo pedir la media recortada agregando el argumento <code>trim</code> para excluir al 5% de cada extremo</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">mean</span>(datos_proc<span style="color:#f92672">$</span>ingreso_percapita, na.rm<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>, trim <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.025</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## [1] 305707.9
</code></pre></div><p>Aquí podemos ver que el valor es distinto.</p>
<p>Ya conocimos el promedio de la variable <code>ingreso_percapita</code> podemos informar cuanto es el promedio del ingreso en el hogar en Chile, pero antes de eso queremos saber ¿cuánto gana el 50% de los hogares? Para eso calcularemos la <strong>mediana</strong></p>
<h3 id="mediana">Mediana</h3>
<p>Para el cálculo de la mediana se utiliza el comando median, su estructura es similar a la <code>mean()</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">median</span>(datos<span style="color:#f92672">$</span>variable, na.rm <span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">median</span>(datos_proc<span style="color:#f92672">$</span>ingreso_percapita, na.rm <span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## [1] 229184.5
</code></pre></div><p>Ahora ya sabemos que al menos un 50% de las familias en Chile tienen por ingreso <code>$229.184</code>.</p>
<p>Ya tenemos los estadísticos principales, pero ¿cómo los reportamos? ¿tenemos que sacar el promedio de cada variable una por una? <strong>¡No!</strong>, para ello <code>sjmisc</code> tiene diferentes funciones, que veremos a continuación:</p>
<h2 id="un-resumen">Un resumen</h2>
<p>Por ello ocuparemos <code>descr</code> de <code>sjmisc</code>, esta función nos entrega un resumen de los estadísticos básicos, incluyendo las etiquetas de cada variable</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">sjmisc<span style="color:#f92672">::</span><span style="color:#a6e22e">descr</span>(datos_proc<span style="color:#f92672">$</span>ingreso_percapita,
        show <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;all&#34;</span>,
        out <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;viewer&#34;</span>,
        encoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UTF-8&#34;</span>,
        file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;output/figures/tabla-ingreso.doc&#34;</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## 
## ## Basic descriptive statistics
## 
##  var    type                   label      n NA.prc     mean       sd   se
##   dd numeric Ingreso total del hogar 144418      0 355472.2 834151.2 2195
##        md  trimmed                   range      iqr   skew
##  229184.5 266168.1 225200000 (0-225200000) 252277.6 152.42
</code></pre></div><p>Como <code>sjmisc</code> dialoga con el universo de <code>tidyverse</code>, es fácil de complementar con funciones como <code>select</code> de <code>dplyr</code> y añadir más variables. Además con la función <code>file</code> se puede exportar automáticamente la tabla para los reportes.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>
<span style="color:#a6e22e">select</span>(ingreso_percapita, ife, horas_mens) <span style="color:#f92672">%&gt;%</span> 
sjmisc<span style="color:#f92672">::</span><span style="color:#a6e22e">descr</span>(
  show <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;all&#34;</span>,
  out <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;viewer&#34;</span>,
  encoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UTF-8&#34;</span>,
  file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;output/figures/tabla1.doc&#34;</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## 
## ## Basic descriptive statistics
## 
##                var    type
##  ingreso_percapita numeric
##                ife numeric
##         horas_mens numeric
##                                                                         label
##                                                       Ingreso total del hogar
##  y26d_hog. Últimos 12 meses, ¿alguien recibió Ingreso Familiar de Emergencia?
##                      y2_hrs. Número de horas mensuales pactadas con empleador
##       n NA.prc      mean        sd     se       md   trimmed
##  144418   0.00 355472.15 834151.23 2195.0 229184.5 266168.13
##  144418   0.00      1.77      1.00    0.0      2.0      1.70
##   33338  76.92    152.83     54.69    0.3    180.0    159.83
##                    range      iqr   skew
##  225200000 (0-225200000) 252277.6 152.42
##                  8 (1-9)      1.0   5.41
##              719 (1-720)     34.0  -0.98
</code></pre></div><p>Acá podemos ver la variable <code>var</code>, el tipo de variable <code>type</code>, su etiqueta <code>label</code>, los casos válidos <code>n</code>, los casos perdidos <code>NA.prc</code>, las medidas de tendencia central y las de dispersión.</p>
<h2 id="43-frecuencias">4.3. Frecuencias</h2>
<h3 id="frecuencias-absolutas">Frecuencias absolutas</h3>
<p>Para conocer las frecuencias absolutas de una variable se podría usar la función <code>table</code>, esta nos arroja la frecuencia por cada categoría de respuesta</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">table</span>(datos_proc<span style="color:#f92672">$</span>sexo) 
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## 
##     1     2 
## 65474 78944
</code></pre></div><p>También podríamos usar la función <code>flat_table</code>, esta puede agrupar más variables y agruparlas.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">flat_table</span>(datos_proc, sexo, ocupacion, ife)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">##                  ife    Sí    No No sabe
## sexo   ocupacion                        
## Hombre Sí             9695 23979     473
##        No            11263 19571     493
## Mujer  Sí             7527 18488     317
##        No            20084 31701     827
</code></pre></div><p>El problema es ¿cómo podríamos reportarla en nuestros informes? Si queremos una tabla general usaremos la función <code>frq</code>. Esta función devuelve una tabla de frecuencias de vectores etiquetados, como marco de datos.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">sjmisc<span style="color:#f92672">::</span><span style="color:#a6e22e">frq</span>(datos_proc<span style="color:#f92672">$</span>sexo,
        out <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;viewer&#34;</span>,
        title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Frecuencias&#34;</span>,
        encoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UTF-8&#34;</span>,
        file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;output/figures/tabla2.doc&#34;</span>) 
</code></pre></div><table style="border-collapse:collapse; border:none;">
<caption style="font-weight: bold; text-align:left;">Frecuencias</caption>
<tr>
<th style="border-top: double; text-align:center; font-style:italic; font-weight:normal; padding:0.2cm; border-bottom:1px solid black; text-align:left;text-align:left; ">val</th>
<th style="border-top: double; text-align:center; font-style:italic; font-weight:normal; padding:0.2cm; border-bottom:1px solid black; text-align: left;">label</th>
<th style="border-top: double; text-align:center; font-style:italic; font-weight:normal; padding:0.2cm; border-bottom:1px solid black; text-align: right;">frq</th>
<th style="border-top: double; text-align:center; font-style:italic; font-weight:normal; padding:0.2cm; border-bottom:1px solid black; text-align: right;">raw.prc</th>
<th style="border-top: double; text-align:center; font-style:italic; font-weight:normal; padding:0.2cm; border-bottom:1px solid black; text-align: right;">valid.prc</th>
<th style="border-top: double; text-align:center; font-style:italic; font-weight:normal; padding:0.2cm; border-bottom:1px solid black; text-align: right;">cum.prc</th>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left;text-align:left; ">1</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: left;">Hombre</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">65474</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">45.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">45.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">45.34</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left;text-align:left; ">2</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: left;">Mujer</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">78944</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">54.66</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">54.66</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; text-align: right;">100.00</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left;text-align:left; border-bottom: 1px solid; ">NA</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; border-bottom: 1px solid; text-align: left;">NA</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; border-bottom: 1px solid; text-align: right;">0</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; border-bottom: 1px solid; text-align: right;">0.00</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; border-bottom: 1px solid; text-align: right;">NA</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center; border-bottom: 1px solid; text-align: right;">NA</td>
</tr>
<tr>
<td colspan="7" style="font-style:italic; border-top:double black; text-align:right;">total N=144418 &middot; valid N=144418 &middot; x&#772;=1.55 &middot; &sigma;=0.50
</td>
</tr>
</table>
<h1 id="5-visualización">5. Visualización</h1>
<p>Ahora que ya sabemos como tener todos los estadísticos necesarios para escribir nuestros reportes, viene el segundo paso <em>visualizar los estadísticos</em>. Esto lo haremos con <code>sjPlot</code></p>
<p>Para visualizar las frecuencias usaremos la función <code>plot_frq</code>, su estructura es la siguiente:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_frq</span>(datos,  <span style="color:#75715e">#base</span>
  <span style="color:#66d9ef">...</span>,          <span style="color:#75715e">#variable</span>
  title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>,   <span style="color:#75715e"># título</span>
  type <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;bar&#34;</span>, <span style="color:#e6db74">&#34;dot&#34;</span>, <span style="color:#e6db74">&#34;histogram&#34;</span>, <span style="color:#e6db74">&#34;line&#34;</span>, <span style="color:#e6db74">&#34;density&#34;</span>, <span style="color:#e6db74">&#34;boxplot&#34;</span>, <span style="color:#e6db74">&#34;violin&#34;</span>) <span style="color:#75715e">#tipo de gráfico a especificar </span>
</code></pre></div><p>Para los gráficos, tenemos los siguientes códigos</p>
<ol>
<li>Gráfico de barras de frecuencias simple</li>
</ol>
<p>Si quisiéramos presentar gráficos que entreguen la frecuencia de cada categoría de respuesta, podemos presentarla de la siguiente forma:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_frq</span>(datos_proc, edad_tramo,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de frecuencias, barras&#34;</span>,
          type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bar&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen barras simple-1.png" width="672" /></p>
<div class="note">
<p>Además de la visualización es importante el guardar los datos que se producen y <code>sjPlot</code> tiene su propio código para hacerlo a través de la función <code>save_plot()</code>, su estructura es esta:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">save_plot</span>(<span style="color:#a6e22e">last_plot</span>())  <span style="color:#75715e">#se deja el formato del archivo (.png, .jpg, .svg o .tif) y la ruta de la carpeta</span>
</code></pre></div><p>Así guardaríamos el gráfico anterior</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">save_plot</span>(<span style="color:#e6db74">&#34;output/figures/tab.png&#34;</span>, fig <span style="color:#f92672">=</span> <span style="color:#a6e22e">last_plot</span>()))
</code></pre></div>
</div>

<ol start="2">
<li>Gráfico de puntos</li>
</ol>
<p>Si tenemos más categorías y queremos mejorar el reporte, podemos usar este código:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_frq</span>(datos_proc, edad_tramo,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de frecuencias, puntos&#34;</span>,
          type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dot&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen puntos simple-1.png" width="672" /></p>
<p>También podemos cambiar el orden del eje x e y</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_frq</span>(datos_proc<span style="color:#f92672">$</span>edad_tramo, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dot&#34;</span>, show.ci <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, sort.frq <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;desc&#34;</span>,
  coord.flip <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, expand.grid <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, vjust <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bottom&#34;</span>, hjust <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;left&#34;</span>, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de frecuencias, puntos cambiado&#34;</span>
)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen puntos cambiados-1.png" width="672" /></p>
<p>Pero, ¿cuál es el argumento que hace esto?</p>
<p>A la hora de trabajar en R, siempre debemos conocer los argumentos que utilizamos en nuestros códigos, puede que un argumento sea innecesario o esté generando un error, para eso debemos consultar en la sección <strong>Help</strong>. Los pasos son los siguientes:</p>
<p>a. Escribe en la consola anteponiendo un <code>?</code> en la función que quieres conocer, en este caso será <code>plot_frq?</code>, quedando así:</p>
<p><img src="https://github.com/learn-R/06-class/raw/main/input/img/image.png" alt=""></p>
<p>b. Una vez le des a enter, en la sección <strong>Help</strong> aparecerá información sobre la función, cómo se usa y qué se puede hacer con ella. En <strong>Arguments</strong> explicará la función de cada argumento</p>
<p><img src="https://github.com/learn-R/06-class/raw/main/input/img/image2.png" alt=""></p>
<p>Ahora podrán averiguar cuál es el argumento que sirve y cual no en el código anterior (y en sus futuros trabajos con R)</p>
<ol start="3">
<li>Histogramas</li>
</ol>
<p>Otra función que podemos hacer es graficar histogramas, sin embargo, como ya hemos visto, la variable <code>ingreso_percapita</code> tiene casos muy altos que distorsionan la variable. Para solucionar esto, ocuparemos lo aprendido en <a href="https://learn-r-udp.netlify.app/example/03-practico/" target="_blank" rel="noopener">el práctico anterior</a> y filtraremos la variable sacando los ingresos mayores a <code>$2.000.000</code>, con la función <code>filter</code> de <code>dplyr</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span>) <span style="color:#f92672">%&gt;%</span> 
<span style="color:#a6e22e">plot_frq</span>(., ingreso_percapita,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Histograma&#34;</span>,
          type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;histogram&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen histograma-1.png" width="672" /></p>
<ol start="4">
<li>Densidad</li>
</ol>
<p>Ahora que vemos la distribución del histograma, ¿cómo podemos ver su densidad?, es muy simple, para ello haremos un gráfico de densidad con el siguiente código</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span>) <span style="color:#f92672">%&gt;%</span>
<span style="color:#a6e22e">plot_frq</span>(., ingreso_percapita,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de densidad&#34;</span>,
          type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;density&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen densidad-1.png" width="672" /></p>
<ol start="5">
<li>Gráfico de líneas</li>
</ol>
<p>¿Que pasa si me piden un gráfico de lineas?, también hay una función para eso. En esta ocasión queremos graficar la variable <code>ife</code> y usaremos este código:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_frq</span>(datos_proc, ife,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de líneas&#34;</span>,
          type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;line&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen lineas-1.png" width="672" /></p>
<ol start="6">
<li>Gráfico de cajas</li>
</ol>
<p>Para graficar los estadísticos de una variable, podemos hacerlo a través de un gráfico de cajas, para ello usaremos este código:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span>) <span style="color:#f92672">%&gt;%</span>
<span style="color:#a6e22e">plot_frq</span>(., ingreso_percapita,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de caja&#34;</span>,
          type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;boxplot&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen box-1.png" width="672" /></p>
<ol start="7">
<li>Gráfico de violín</li>
</ol>
<p>Finalmente, si queremos presentar gráficos de violín, usamos este código</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span>) <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">plot_frq</span>(., ingreso_percapita,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de violín&#34;</span>,
          type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;violin&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen violin-1.png" width="672" /></p>
<p>Como pueden ver, el único argumento que se modificaba era <code>type = </code>, es decir, para hacer diversos gráficos, sólo se debe especificar el tipo de gráfico que queremos.</p>
<ol start="8">
<li>Gráfico de nube de puntos</li>
</ol>
<p>Ahora, si quisiéramos graficar la distribución de dos variables, podemos hacerlo con la función <code>plot_scatter</code>, esta muestra el diagrama de dispersión de dos variables.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span>) <span style="color:#f92672">%&gt;%</span>
   <span style="color:#a6e22e">plot_scatter</span>(., horas_mens, ingreso_percapita)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen scatter-1.png" width="672" /></p>
<p>También es posible agregar una tercera variable al diagrama de dispersión, podemos hacerlo con <code>ocupacion</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span>) <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">plot_scatter</span>(., horas_mens, ingreso_percapita, ocupacion)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen scatter 3 var-1.png" width="672" /></p>
<p>O con la variable <code>sexo</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span>) <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">plot_scatter</span>(., horas_mens, ingreso_percapita, sexo)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen scatter 3 var sexo-1.png" width="672" /></p>
<p>Pero ¿si quiero una mejor visualización? para eso usamos este código que nos permite hacer dos gráficos para cada categoría de la variable <code>sexo</code>, esto lo haremos con el argumento <code>grid = T</code>, donde además le asignaremos una línea ajustada con <code>fit.grps</code>. Pero además como hay casos al extremo con las horas mensuales, las filtraremos, para eso debemos aplicar todo lo que hemos aprendido:</p>
<p>Primero debemos conocer los valores de la variable, para ello usaremos <code>descr</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">descr</span>(datos_proc<span style="color:#f92672">$</span>horas_mens)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">## 
## ## Basic descriptive statistics
## 
##  var    type                                                    label     n
##   dd numeric y2_hrs. Número de horas mensuales pactadas con empleador 33338
##  NA.prc   mean    sd  se  md trimmed       range iqr  skew
##   76.92 152.83 54.69 0.3 180  159.83 719 (1-720)  34 -0.98
</code></pre></div><p>Acá podemos ver, que la variable oscila entre 1 y 720 horas, entonces la filtraremos, utilizando <code>filter</code> y <strong>operadores</strong>,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">filter</span>(ingreso_percapita <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2000000</span> <span style="color:#f92672">&amp;</span> horas_mens <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">450</span>) <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">plot_scatter</span>(., horas_mens, ingreso_percapita, sexo,
             fit.grps <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;lm&#34;</span>, grid <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen scatter sep-1.png" width="672" /></p>
<p>Ahora que ya hemos graficado las frecuencias de las variables, vamos a graficar frecuencias agrupadas, para ello usaremos la función <code>plot_grpfrq</code> de <code>sjPlot</code>, su estructura es la siguiente</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(
  var.cnt,
  var.grp,
  type <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;bar&#34;</span>, <span style="color:#e6db74">&#34;dot&#34;</span>, <span style="color:#e6db74">&#34;line&#34;</span>, <span style="color:#e6db74">&#34;boxplot&#34;</span>, <span style="color:#e6db74">&#34;violin&#34;</span>)
</code></pre></div><ol>
<li>Gráfico de barras</li>
</ol>
<p>La primera opción que nos entrega este código son los gráficos de barra, para usarlo queremos saber cuantos hombres y mujeres trabajaron al menos una hora la semana pasada, para ello graficaremos la variable <code>sexo</code> y <code>ocupacion</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(datos_proc<span style="color:#f92672">$</span>sexo, datos_proc<span style="color:#f92672">$</span>ocupacion,
  type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bar&#34;</span>, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de barras&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen frec agrup barr-1.png" width="672" /></p>
<p>Podemos ver que no solo nos muestra la frecuencia absoluta, sino que también la relativa en porcentaje</p>
<p>Pero además podemos ver agregar una tercera categoría, que es el total de ambas categorías. Para este ejercicio conoceremos que tramo de edad trabajo la semana pasada.</p>
<p>Para este ejercicio usaremos la función <code>plot_xtab</code>, de la misma librería</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_xtab</span>(datos_proc<span style="color:#f92672">$</span>edad_tramo, datos_proc<span style="color:#f92672">$</span>ocupacion, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de barras&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen frec agrup barr 2-1.png" width="672" /></p>
<p>1.1 Gráfico de barras horizontales</p>
<p>Con la misma función podemos graficar mediante barras horizontales con el argumento <code>coord.flip</code>, además <code>show.summary</code> nos muestra estadísticos de la relación entre las variables</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_xtab</span>(datos_proc<span style="color:#f92672">$</span>edad_tramo, datos_proc<span style="color:#f92672">$</span>ocupacion, margin <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;row&#34;</span>, 
          bar.pos <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;stack&#34;</span>,
          title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de barras horizontales&#34;</span>,
         show.summary <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, coord.flip <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen frec agrup barr hor-1.png" width="672" /></p>
<p>también se puede graficar con la misma categoría de respuesta para observar diferencias en las distribuciones, para esto usamos la función <code>plot_stackfrq</code> de <code>sjPlot</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(<span style="color:#e6db74">&#34;ocupacion&#34;</span>,<span style="color:#e6db74">&#34;o2&#34;</span>, <span style="color:#e6db74">&#34;o3&#34;</span>, <span style="color:#e6db74">&#34;o4&#34;</span>, <span style="color:#e6db74">&#34;o6&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">plot_stackfrq</span>(., title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de barras proporcional&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>1.2 Escalas likert</p>
<p>También podemos graficar escalas likert, en esta ocasión CASEN no tiene variables con más categorias de respuesta para generar una escala likert, por lo que utilizaremos las nuevas variables de la base procesada, para ello usaremos la función <code>plot_likert</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(<span style="color:#e6db74">&#34;ocupacion&#34;</span>,<span style="color:#e6db74">&#34;o2&#34;</span>, <span style="color:#e6db74">&#34;o3&#34;</span>, <span style="color:#e6db74">&#34;o4&#34;</span>, <span style="color:#e6db74">&#34;o6&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
  sjPlot<span style="color:#f92672">::</span><span style="color:#a6e22e">plot_likert</span>(., title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de escalas likert&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen_likert-1.png" width="672" /></p>
<p>1.3 Tablas de proporción cruzadas</p>
<p>Con <code>plot_gpt</code>, se puede graficar tablas cruzadas proporcionales agrupadas, este código traza la proporción de cada nivel de <strong>x</strong> (<code>ife</code>) para la categoría más alta en <strong>y</strong> (<code>ocupacion</code>), para cada subgrupo de <strong>grp</strong> (<code>sexo</code>).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_gpt</span>(datos_proc, ife, ocupacion, sexo,
         shapes <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">21</span>), 
         title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de proporción agrupada&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen_prop_Agrup-1.png" width="672" /></p>
<ol start="2">
<li>Gráfico de puntos</li>
</ol>
<p>Ahora continuaremos con los gráficos de puntos, ya que quiero presentar la relación entre <code>sexo</code> y <code>ocupacion</code> mediante otro gráfico:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(datos_proc<span style="color:#f92672">$</span>sexo, datos_proc<span style="color:#f92672">$</span>ocupacion,
            title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de puntos&#34;</span>,
            type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dot&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen graf pun agrup-1.png" width="672" /></p>
<ol start="3">
<li>Gráfico de líneas</li>
</ol>
<p>Otra opción que tiene esta función, es la creación de gráficos de líneas, para ello conoceremos la relación entre el tramo etario y el recibir el IFE</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(datos_proc<span style="color:#f92672">$</span>edad_tramo, datos_proc<span style="color:#f92672">$</span>ife,
            title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de línea&#34;</span>,
            type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;line&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen graf lin agrup-1.png" width="672" /></p>
<p>También podemos ver la relación de el tramo etario y si trabajó la semana pasada</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(datos_proc<span style="color:#f92672">$</span>edad_tramo, datos_proc<span style="color:#f92672">$</span>ocupacion, 
            title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de línea&#34;</span>,
            type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;line&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen graf line agrup 2-1.png" width="672" /></p>
<ol start="4">
<li>Gráfico de cajas</li>
</ol>
<p>Ahora si queremos conocer cómo interactúa las horas de trabajo con el tramo etario, podemos visualizarlo mediante un gráfico de cajas</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(datos_proc<span style="color:#f92672">$</span>horas_mens, datos_proc<span style="color:#f92672">$</span>edad_tramo,
            title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de caja&#34;</span>,
             type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;boxplot&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen graf caj-1.png" width="672" /></p>
<p>Además, se puede incorporar una tercera variable, en este caso lo haremos con la variable <code>sexo</code> y el argumento <code>intr.var</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(datos_proc<span style="color:#f92672">$</span>horas_mens, datos_proc<span style="color:#f92672">$</span>edad_tramo, intr.var <span style="color:#f92672">=</span> datos_proc<span style="color:#f92672">$</span>sexo, 
            title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de cajas&#34;</span>,
            type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;box&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen box 3 var-1.png" width="672" /></p>
<ol start="5">
<li>Gráfico de violín</li>
</ol>
<p>Finalmente, para generar un gráfico de violín, añadiremos el argumento <code>type = &quot;violin&quot;</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot_grpfrq</span>(datos_proc<span style="color:#f92672">$</span>horas_mens, datos_proc<span style="color:#f92672">$</span>edad_tramo,
            title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de violín&#34;</span>,
            type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;violin&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen graf violin agrup-1.png" width="672" /></p>
<p>Nuevamente, la función nos permite la creación de múltiples gráficos, sólo se debe cambiar el argumento <code>type =</code></p>
<h1 id="6-tablas-de-contingencia">6. Tablas de contingencia</h1>
<p>¡No podemos terminar sin saber cómo hacer tablas de frecuencias cruzadas!</p>
<p>Por suerte <code>sjPlot</code> tiene la función <code>sjt.xtab</code>, que nos entrega tablas de frecuencias cruzadas</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">sjt.xtab</span>(datos_proc<span style="color:#f92672">$</span>sexo, datos_proc<span style="color:#f92672">$</span>ife,  
         title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Tabla de contingencias&#34;</span>,
         show.col.prc<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>,
         show.summary<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>)
</code></pre></div><table style="border-collapse:collapse; border:none;">
<caption style="font-weight: bold; text-align:left;">Tabla de contingencias</caption>
 <tr>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2">Sexo</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="3">y26d_hog. Ãšltimos 12<br>meses, Â¿alguien<br>recibiÃ³ Ingreso<br>Familiar de<br>Emergencia?</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2">Total</th>
 </tr>
<tr>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">SÃ­</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">No</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">No sabe</td>
 </tr>
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Hombre</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">20958</span><br><span style="color:#339933;">43.2&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">43550</span><br><span style="color:#339933;">46.5&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">966</span><br><span style="color:#339933;">45.8&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">65474</span><br><span style="color:#339933;">45.3&nbsp;&#37;</span></td> 
</tr>
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Mujer</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">27611</span><br><span style="color:#339933;">56.8&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">50189</span><br><span style="color:#339933;">53.5&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1144</span><br><span style="color:#339933;">54.2&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">78944</span><br><span style="color:#339933;">54.7&nbsp;&#37;</span></td> 
</tr>
<tr> 
<td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;">Total</td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">48569</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">93739</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">2110</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">144418</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td> 
</tr>
</table>
<p>¿Qué pasó? ¿por qué salen esos símbolos raros en la tabla?</p>
<p>¡Es por la codificación!, para ello le agregamos el argumento <code>encoding = &quot;UTF-8&quot;</code> y ya tenemos nuestra tabla de frecuencias cruzadas</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">sjt.xtab</span>(datos_proc<span style="color:#f92672">$</span>sexo, datos_proc<span style="color:#f92672">$</span>ife,
         show.col.prc<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>,
         show.summary<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>, 
         encoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UTF-8&#34;</span>, 
         title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Tabla de contingencia&#34;</span>,
         file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;output/figures/tabla3.doc&#34;</span>)
</code></pre></div><table style="border-collapse:collapse; border:none;">
<caption style="font-weight: bold; text-align:left;">Tabla de contingencia</caption>
 <tr>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2">Sexo</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="3">y26d_hog. Ãšltimos 12<br>meses, Â¿alguien<br>recibiÃ³ Ingreso<br>Familiar de<br>Emergencia?</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2">Total</th>
 </tr>
<tr>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">SÃ­</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">No</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">No sabe</td>
 </tr>
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Hombre</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">20958</span><br><span style="color:#339933;">43.2&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">43550</span><br><span style="color:#339933;">46.5&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">966</span><br><span style="color:#339933;">45.8&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">65474</span><br><span style="color:#339933;">45.3&nbsp;&#37;</span></td> 
</tr>
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Mujer</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">27611</span><br><span style="color:#339933;">56.8&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">50189</span><br><span style="color:#339933;">53.5&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1144</span><br><span style="color:#339933;">54.2&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">78944</span><br><span style="color:#339933;">54.7&nbsp;&#37;</span></td> 
</tr>
<tr> 
<td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;">Total</td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">48569</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">93739</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">2110</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">144418</span><br><span style="color:#339933;">100&nbsp;&#37;</span></td> 
</tr>
</table>
<p>Si además se quieren añadir variables con las mismas categorías de respuesta, se puede utilizar la función <code>tab_stackfrq</code>, para ello utilizaremos a las variables añadidas para este práctico <code>o3</code>, <code>o4</code> y <code>o6</code>. Le añadiremos etiquetas con <code>value.labels</code> y le pediremos que nos entregue la frecuencia absoluta (<code>show.n = TRUE</code>) y el total (<code>show.total = T</code>)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">tab_stackfrq</span>(<span style="color:#a6e22e">as.data.frame</span>(datos_proc <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(<span style="color:#e6db74">&#34;o3&#34;</span>, <span style="color:#e6db74">&#34;o4&#34;</span>, <span style="color:#e6db74">&#34;o6&#34;</span>)),
             value.labels<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;1&#39;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Si&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;No&#39;</span>),
             show.n <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, show.total <span style="color:#f92672">=</span> T,
             file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;output/figures/tabla4.doc&#34;</span>)
</code></pre></div><table style="border-collapse:collapse; border:none; border-bottom:double black;">
<tr>
<th style="border-top:double black; border-bottom:1px solid black; padding:0.2cm;">&nbsp;</th>
<th style="border-top:double black; border-bottom:1px solid black; padding:0.2cm;">Si</th>
<th style="border-top:double black; border-bottom:1px solid black; padding:0.2cm;">No</th>
<th style="border-top:double black; border-bottom:1px solid black; padding:0.2cm;  ">N</th>
</tr>
<tr>
<td style="font-style:italic;">o3. Aunque no<br>trabajÃ³, Â¿tenÃ­a<br>algÃºn empleo del<br>cual estuvo ausente<br>temporalmente</td>
<td style="padding:0.2cm; text-align:center;">3627<br>(4.46&nbsp;%)</td>
<td style="padding:0.2cm; text-align:center;">77657<br>(95.54&nbsp;%)</td>
<td style="padding:0.2cm; text-align:center;  ">81284</td>
</tr>
<tr>
<td style="font-style:italic;">o4. Â¿Ha trabajado<br>alguna vez?</td>
<td style="padding:0.2cm; text-align:center;">50197<br>(65.25&nbsp;%)</td>
<td style="padding:0.2cm; text-align:center;">26738<br>(34.75&nbsp;%)</td>
<td style="padding:0.2cm; text-align:center;  ">76935</td>
</tr>
<tr>
<td style="font-style:italic;">o6. Â¿BuscÃ³ trabajo<br>remunerado o cuenta<br>propia en las<br>Ãºltimas cuatro<br>semanas?</td>
<td style="padding:0.2cm; text-align:center;">9644<br>(12.54&nbsp;%)</td>
<td style="padding:0.2cm; text-align:center;">67291<br>(87.46&nbsp;%)</td>
<td style="padding:0.2cm; text-align:center;  ">76935</td>
</tr>
</table>
<h1 id="7-test-de-independencia-chi2">7. Test de independencia Chi2</h1>
<p>A la hora de graficar Chi2, debemos asegurarnos con la función <code>as_factor</code> que las variables a utilizar sean de tipo factor, luego utilizamos la función <code>sjp.chi2</code> de <code>sjPlot</code> para crear la tabla, finalmente con el argumento <code>axis.labels</code> asignamos la etiqueta de cada variable</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">as_factor</span>(<span style="color:#a6e22e">sample</span>(datos_proc<span style="color:#f92672">$</span>ocupacion, replace <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)),
                 <span style="color:#a6e22e">as_factor</span>(<span style="color:#a6e22e">sample</span>(datos_proc<span style="color:#f92672">$</span>o2, replace <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)),
                 <span style="color:#a6e22e">as_factor</span>(<span style="color:#a6e22e">sample</span>(datos_proc<span style="color:#f92672">$</span>o3, replace <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)),
                 <span style="color:#a6e22e">as_factor</span>(<span style="color:#a6e22e">sample</span>(datos_proc<span style="color:#f92672">$</span>o4, replace <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)),
                 <span style="color:#a6e22e">as_factor</span>(<span style="color:#a6e22e">sample</span>(datos_proc<span style="color:#f92672">$</span>o6, replace <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>))) <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">sjp.chi2</span>(., 
         title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gráfico de Chi2&#34;</span>,
         axis.labels  <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Trabajó al menos una hora&#34;</span>, <span style="color:#e6db74">&#34;realizó alguna actividad&#34;</span>, <span style="color:#e6db74">&#34;Tenía algún empleo&#34;</span>, <span style="color:#e6db74">&#34;Ha trabajado alguna vez&#34;</span>, <span style="color:#e6db74">&#34;Busco empleo&#34;</span>))
</code></pre></div><p><img src="/example/06-practico_files/figure-html/casen_x2-1.png" width="672" /></p>
<h1 id="8-correlación">8. Correlación</h1>
<p>Ahora veremos estadísticos bivariados, como la correlación, en esta ocasión generaremos una tabla de correlación entre las variables <code>horas_mens</code> y <code>ingreso_percapita</code>, para eso usaremos la función <code>tab_corr</code> de <code>sjPlot</code></p>
<p>Previamente debemos seleccionar las variables a utilizar, ya que no tiene sentido incluir en el análisis variables nominales</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">datos_proc <span style="color:#f92672">%&gt;%</span>
<span style="color:#a6e22e">select</span>(ingreso_percapita, horas_mens) <span style="color:#f92672">%&gt;%</span> 
<span style="color:#a6e22e">tab_corr</span>(.,
         triangle <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;lower&#34;</span>,   
         title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Tabla de correlación&#34;</span>,
         encoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UTF-8&#34;</span>, 
         file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;output/figures/tabla4.doc&#34;</span>)
</code></pre></div><table style="border-collapse:collapse; border:none;">
<caption style="font-weight: bold; text-align:left;">Tabla de correlaciÃ³n</caption>
<tr>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">&nbsp;</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">Ingreso total del hogar</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">y2_hrs. NÃºmero de horas mensuales<br>pactadas con empleador</th>
</tr>
<tr>
<td style="font-style:italic;">Ingreso total del hogar</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td style="font-style:italic;">y2_hrs. NÃºmero de horas mensuales<br>pactadas con empleador</td>
<td style="padding:0.2cm; text-align:center;">0.054<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td colspan="3" style="border-bottom:double black; border-top:1px solid black; font-style:italic; font-size:0.9em; text-align:right;">Computed correlation used pearson-method with listwise-deletion.</td>
</tr>
</table>
<h1 id="9-anova">9. Anova</h1>
<p>Finalmente, si queremos reportar un análisis de Anova, no podemos dejar de lado este gráfico que nos otorga la función <code>sjp.aov1</code> del paquete <code>sjPlot</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">sjp.aov1</span>(datos_proc<span style="color:#f92672">$</span>ingreso_percapita, datos_proc<span style="color:#f92672">$</span>sexo, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Anova&#34;</span>)
</code></pre></div><p><img src="/example/06-practico_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<h1 id="10-resumen-del-práctico">10. Resumen del práctico</h1>
<p>¡Eso es todo por este práctico! Hoy aprendimos a:</p>
<ul>
<li>Manejar datos descriptivos en Rstudio</li>
<li>A obtener tablas descriptivas</li>
<li>A visualizar los descriptivos</li>
<li>A obtener tablas de contingencia</li>
<li>A obtener tablas de correlación y chi2</li>
<li>A obtener gráficos de Anova</li>
</ul>
<h1 id="11-reporte-de-progreso">11. Reporte de progreso</h1>
<p>¡Recuerda rellenar tu <a href="https://learn-r.formr.org/" target="_blank" rel="noopener">reporte de progreso</a>. En tu correo electrónico está disponible el código mediante al cuál debes acceder para actualizar tu estado de avance del curso.</p>

                    </div>

                    



                    
                    <div class="article-widget">
                        
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/example/07-practico/" rel="next">Muestras complejas y precisión de inferencia estadística</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/example/04-practico/" rel="prev">Transformar y seleccionar variables</a>
  </div>
  
</div>

                    </div>
                    
                </div>

                <div class="body-footer">
                    <p>Last updated on September 13, 2021</p>

                    





                    



                </div>

            </article>

            <footer>
    <hr>

    <div class="row course-info">
        <div class="col-md-7">
            <p>
                <strong>2255: Análisis Estadístico en R (II° Semestre- 2021)</strong><br>

                <a href="https://www.uahurtado.cl/" target="_blank" rel="noopener">Universidad Alberto Hurtado</a> &emsp;&emsp;
                <a href="http://sociologia.uahurtado.cl/" target="_blank" rel="noopener">Departamento de Sociología</a>
            </p>

            <p>
                <a href="https://valentinaandrade.netlify.app/" target="_blank" rel="noopener"><i class="fas fa-user"></i>
                    Valentina Andrade</a> &emsp;&emsp;
                <a href="mailto:valentinaandrade@uchile.cl"><i class="fas fa-envelope"></i>
                    valentinaandrade@uchile.cl</a>
            </p>

            <p>
                <i class="far fa-calendar-alt"></i> Clases: Lunes 16.30-17.40 &emsp;&emsp;
                <i class="fas fa-pencil-alt"></i> Práctico: Lunes 18.00-19.20 
                <br><i class="fas fa-university"></i> Online, en link de Zoom
            </p>
        </div>

        <div class="col-md-5 credits">
            <p>All content licensed under a <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="noopener">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.</p>
            
            <p>Content <i class="fab fa-creative-commons"></i> 2021. Web developed by Andrew Heiss and custom by <a href="https://valentinaandrade.netlify.app/" target="_blank" rel="noopener">Valentina Andrade</a></p>
        
            <p>This site created with the <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> in <a href="https://bookdown.org/yihui/blogdown/" target="_blank" rel="noopener">blogdown</a> and <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>. </p>
            
            <p><a href="https://github.com/valentinaandrade" target="_blank" rel="noopener"><i class="fab fa-github"></i> View the source at GitHub.</a></p>
        </div>
    </div>
</footer>


        </main>
    </div>
</div>

        

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      
      

      

      

    

    
    
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    

    
    

    
    
    
    

    
    <script src="/js/bootstrap.bundle.min.8b7df62fd2da18ce73e29c13cc0a6198.js"></script>

    
    

    
    
    
    
    
    
    
    
    
    <script src="/en/js/wowchemy.min.c6ceb5c48772e46156651a48070d6139.js"></script>

    

<script src="/js/math-code.js"></script>


    
    

    
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
